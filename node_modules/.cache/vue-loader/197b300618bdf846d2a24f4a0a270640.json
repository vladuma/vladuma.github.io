{"remainingRequest":"/Users/vladuma/Documents/Projects/portfolio_3.0/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/vladuma/Documents/Projects/portfolio_3.0/src/components/experience/timeline.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"/Users/vladuma/Documents/Projects/portfolio_3.0/src/components/experience/timeline.vue","mtime":1597070286145},{"path":"/Users/vladuma/Documents/Projects/portfolio_3.0/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/vladuma/Documents/Projects/portfolio_3.0/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/vladuma/Documents/Projects/portfolio_3.0/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/vladuma/Documents/Projects/portfolio_3.0/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/vladuma/Documents/Projects/portfolio_3.0/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/vladuma/Documents/Projects/portfolio_3.0/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLnRpbWVsaW5lLWNvbnRhaW5lciB7CiAgICBkaXNwbGF5OiBmbGV4OwogICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgIG1pbi1oZWlnaHQ6IDIwMHB4OwogICAgbWF4LWhlaWdodDogMTAwJTsKCiAgICBAbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA3NjhweCkgewogICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uLXJldmVyc2U7CiAgICB9CgogICAgLnRpbWVsaW5lIHsKICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgfQogICAgaW5wdXRbdHlwZT1yYW5nZV0gewogICAgICB3aWR0aDogOTAlOwogICAgICAvLyBtYXJnaW46IDIxcHggMCA3cHg7CiAgICAgIHBhZGRpbmctdG9wOiAxMHB4OwogICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDsKICAgICAgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lOwogICAgfQogICAgaW5wdXRbdHlwZT1yYW5nZV06Zm9jdXMgewogICAgICBvdXRsaW5lOiBub25lOwogICAgfQogICAgaW5wdXRbdHlwZT1yYW5nZV06Oi13ZWJraXQtc2xpZGVyLXJ1bm5hYmxlLXRyYWNrIHsKICAgICAgYmFja2dyb3VuZDogIzAwMDAwMDsKICAgICAgYm9yZGVyOiAwLjJweCBzb2xpZCAjMDAwMDAwOwogICAgICBib3JkZXItcmFkaXVzOiAxLjNweDsKICAgICAgd2lkdGg6IDEwMCU7CiAgICAgIGhlaWdodDogMnB4OwogICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICB9CiAgICBpbnB1dFt0eXBlPXJhbmdlXTo6LXdlYmtpdC1zbGlkZXItdGh1bWIgewogICAgICBtYXJnaW4tdG9wOiAtNS41cHg7CiAgICAgIHdpZHRoOiAxMHB4OwogICAgICBoZWlnaHQ6IDEwcHg7CiAgICAgIGJhY2tncm91bmQ6ICMwMDAwMDA7CiAgICAgIGJvcmRlcjogMXB4IHNvbGlkICMwMDAwMDA7CiAgICAgIGJvcmRlci1yYWRpdXM6IDEwMCU7CiAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lOwogICAgfQogICAgaW5wdXRbdHlwZT1yYW5nZV06Zm9jdXM6Oi13ZWJraXQtc2xpZGVyLXJ1bm5hYmxlLXRyYWNrIHsKICAgICAgYmFja2dyb3VuZDogIzBkMGQwZDsKICAgIH0KICAgIGlucHV0W3R5cGU9cmFuZ2VdOjotbW96LXJhbmdlLXRyYWNrIHsKICAgICAgYmFja2dyb3VuZDogIzAwMDAwMDsKICAgICAgYm9yZGVyOiAwLjJweCBzb2xpZCAjMDAwMDAwOwogICAgICBib3JkZXItcmFkaXVzOiAxLjNweDsKICAgICAgd2lkdGg6IDEwMCU7CiAgICAgIGhlaWdodDogMnB4OwogICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICB9CiAgICBpbnB1dFt0eXBlPXJhbmdlXTo6LW1vei1yYW5nZS10aHVtYiB7CiAgICAgIHdpZHRoOiAxMHB4OwogICAgICBoZWlnaHQ6IDEwcHg7CiAgICAgIGJhY2tncm91bmQ6ICMwMDAwMDA7CiAgICAgIGJvcmRlcjogMXB4IHNvbGlkICMwMDAwMDA7CiAgICAgIGJvcmRlci1yYWRpdXM6IDEwMCU7CiAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgIH0KICAgIGlucHV0W3R5cGU9cmFuZ2VdOjotbXMtdHJhY2sgewogICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsKICAgICAgYm9yZGVyLWNvbG9yOiB0cmFuc3BhcmVudDsKICAgICAgYm9yZGVyLXdpZHRoOiA3LjVweCAwOwogICAgICBjb2xvcjogdHJhbnNwYXJlbnQ7CiAgICAgIHdpZHRoOiAxMDAlOwogICAgICBoZWlnaHQ6IDJweDsKICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgfQogICAgaW5wdXRbdHlwZT1yYW5nZV06Oi1tcy1maWxsLWxvd2VyIHsKICAgICAgYmFja2dyb3VuZDogIzAwMDAwMDsKICAgICAgYm9yZGVyOiAwLjJweCBzb2xpZCAjMDAwMDAwOwogICAgICBib3JkZXItcmFkaXVzOiAyLjZweDsKICAgIH0KICAgIGlucHV0W3R5cGU9cmFuZ2VdOjotbXMtZmlsbC11cHBlciB7CiAgICAgIGJhY2tncm91bmQ6ICMwMDAwMDA7CiAgICAgIGJvcmRlcjogMC4ycHggc29saWQgIzAwMDAwMDsKICAgICAgYm9yZGVyLXJhZGl1czogMi42cHg7CiAgICB9CiAgICBpbnB1dFt0eXBlPXJhbmdlXTo6LW1zLXRodW1iIHsKICAgICAgd2lkdGg6IDEwcHg7CiAgICAgIGhlaWdodDogMTBweDsKICAgICAgYmFja2dyb3VuZDogIzAwMDAwMDsKICAgICAgYm9yZGVyOiAxcHggc29saWQgIzAwMDAwMDsKICAgICAgYm9yZGVyLXJhZGl1czogMTAwJTsKICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICBtYXJnaW4tdG9wOiAwcHg7CiAgICAgIC8qTmVlZGVkIHRvIGtlZXAgdGhlIEVkZ2UgdGh1bWIgY2VudHJlZCovCiAgICB9CiAgICBpbnB1dFt0eXBlPXJhbmdlXTpmb2N1czo6LW1zLWZpbGwtbG93ZXIgewogICAgICBiYWNrZ3JvdW5kOiAjMDAwMDAwOwogICAgfQogICAgaW5wdXRbdHlwZT1yYW5nZV06Zm9jdXM6Oi1tcy1maWxsLXVwcGVyIHsKICAgICAgYmFja2dyb3VuZDogIzBkMGQwZDsKICAgIH0KICAgIC8qVE9ETzogVXNlIG9uZSBvZiB0aGUgc2VsZWN0b3JzIGZyb20gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzIwNTQxODU5LzcwNzc1ODkgYW5kIGZpZ3VyZSBvdXQKICAgIGhvdyB0byByZW1vdmUgdGhlIHZpcnRpY2FsIHNwYWNlIGFyb3VuZCB0aGUgcmFuZ2UgaW5wdXQgaW4gSUUqLwogICAgQHN1cHBvcnRzICgtbXMtaW1lLWFsaWduOmF1dG8pIHsKICAgICAgLyogUHJlLUNocm9taXVtIEVkZ2Ugb25seSBzdHlsZXMsIHNlbGVjdG9yIHRha2VuIGZyb20gaGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8zMjIwMjk1My83MDc3NTg5ICovCiAgICAgIGlucHV0W3R5cGU9cmFuZ2VdIHsKICAgICAgICBtYXJnaW46IDA7CiAgICAgICAgLypFZGdlIHN0YXJ0cyB0aGUgbWFyZ2luIGZyb20gdGhlIHRodW1iLCBub3QgdGhlIHRyYWNrIGFzIG90aGVyIGJyb3dzZXJzIGRvKi8KICAgICAgfQogICAgfQoKfQo="},{"version":3,"sources":["timeline.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwHA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"timeline.vue","sourceRoot":"src/components/experience","sourcesContent":["<template>\n  <div class=\"timeline-container\">\n    <TimelineElement :data=\"currentStep\" :date=\"currentDate\" class=\"timeline\"/>\n    <input type=\"range\" :min=\"dateRange[0].rangeIndex\" :max=\"dateRange[dateRange.length - 1].rangeIndex\" @input=\"updateCurrentRange\" />\n  </div>\n</template>\n\n<script>\nconst _ = require(\"underscore\");\n\nimport TimelineElement from \"./timelineElement\";\nimport dayjs from \"dayjs\";\n\nexport default {\n  name: \"Timeline\",\n  components: {\n    TimelineElement\n  },\n  props: {\n    data: {\n      type: Array,\n      required: true\n    },\n    minYear: {\n      type: Number,\n      required: true\n    },\n    minMth: {\n      type: Number,\n      required: true\n    },\n    nowYear: {\n      type: Number,\n      required: true\n    },\n    nowMth: {\n      type: Number,\n      required: true\n    }\n  },\n  data() {\n    this.getYearsArray()\n    this.datesToRange()\n    this.sortData()\n    \n    return {\n      currentStep: this.getCurrentStep(this.lastRangeIndex),\n      currentDate: this.getCurrentDate(this.lastRangeIndex),\n    };\n  },\n  methods: {\n    getYearsArray() {\n        let result = [];\n\n        for (let i = this.minYear; i <= this.nowYear; i++) {\n            result.push(i);\n        }\n        this.yearArray = result;\n    },\n    sortData() {\n      this.sortedData = _.each(this.data.sort((a, b) =>\n        dayjs(a.startDate) < dayjs(b.startDate) ? -1 : 1\n      ), el => { \n        el.startYear = dayjs(el.startDate).$y; \n        el.startMonth = dayjs(el.startDate).$M;\n        el.endYear = el.endDate && el.endDate !== '-' ? dayjs(el.endDate).$y : dayjs().$y;\n        el.endMonth = el.endDate && el.endDate !== '-' ? dayjs(el.endDate).$M : dayjs().$M;\n        el.ranges = [];\n\n        _.each(this.dateRange, step => {\n          if(step.mthIndex === el.startMonth && step.year === el.startYear || step.mthIndex === el.endMonth && step.year === el.endYear) {\n            el.ranges.push(step.rangeIndex);\n          }\n        })\n        console.log(el);\n      })\n    },\n    datesToRange() {\n        const yearArray = this.yearArray;\n        const monthArray = [ \"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\" ];\n        const rangeSteps = yearArray.length * monthArray.length;\n\n        let result = [],\n            yearIndex = 0,\n            mthIndex = 0;\n\n        for (let i = 0; i < rangeSteps; i++) {\n          yearIndex = i % monthArray.length === 0 && i !== 0 ? yearIndex + 1 : yearIndex;\n          mthIndex = mthIndex !== 11 && i !== 0 ? mthIndex + 1 : 0;\n\n          result.push({\n            mth: monthArray[mthIndex],\n            mthIndex: mthIndex,\n            year: yearArray[yearIndex],\n            rangeIndex: i\n          })\n        }\n        this.dateRange = result.slice(this.minMth, result.length - (11 - this.nowMth));\n        this.lastRangeIndex = this.dateRange.length;\n        console.log(3, this.lastRangeIndex);\n      },\n      getCurrentStep(x) {\n        return this.sortedData.filter(d => {\n          return d.ranges[0] <= x && (d.ranges[1] ? d.ranges[1] >= x : true);\n        });\n      },\n      getCurrentDate(x) {\n        return this.dateRange[x - 1];\n      },\n      updateCurrentRange(e) {\n        this.currentStep = this.getCurrentStep(parseInt(e.target.value));\n        this.currentDate = this.getCurrentDate(parseInt(e.target.value));\n        console.log(1, this.currentStep);\n        console.log(2, this.currentDate);\n      }\n  }\n};\n</script>\n\n<style lang=\"scss\">\n.timeline-container {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    min-height: 200px;\n    max-height: 100%;\n\n    @media screen and (max-width: 768px) {\n      flex-direction: column-reverse;\n    }\n\n    .timeline {\n        display: flex;\n    }\n    input[type=range] {\n      width: 90%;\n      // margin: 21px 0 7px;\n      padding-top: 10px;\n      background-color: transparent;\n      -webkit-appearance: none;\n    }\n    input[type=range]:focus {\n      outline: none;\n    }\n    input[type=range]::-webkit-slider-runnable-track {\n      background: #000000;\n      border: 0.2px solid #000000;\n      border-radius: 1.3px;\n      width: 100%;\n      height: 2px;\n      cursor: pointer;\n    }\n    input[type=range]::-webkit-slider-thumb {\n      margin-top: -5.5px;\n      width: 10px;\n      height: 10px;\n      background: #000000;\n      border: 1px solid #000000;\n      border-radius: 100%;\n      cursor: pointer;\n      -webkit-appearance: none;\n    }\n    input[type=range]:focus::-webkit-slider-runnable-track {\n      background: #0d0d0d;\n    }\n    input[type=range]::-moz-range-track {\n      background: #000000;\n      border: 0.2px solid #000000;\n      border-radius: 1.3px;\n      width: 100%;\n      height: 2px;\n      cursor: pointer;\n    }\n    input[type=range]::-moz-range-thumb {\n      width: 10px;\n      height: 10px;\n      background: #000000;\n      border: 1px solid #000000;\n      border-radius: 100%;\n      cursor: pointer;\n    }\n    input[type=range]::-ms-track {\n      background: transparent;\n      border-color: transparent;\n      border-width: 7.5px 0;\n      color: transparent;\n      width: 100%;\n      height: 2px;\n      cursor: pointer;\n    }\n    input[type=range]::-ms-fill-lower {\n      background: #000000;\n      border: 0.2px solid #000000;\n      border-radius: 2.6px;\n    }\n    input[type=range]::-ms-fill-upper {\n      background: #000000;\n      border: 0.2px solid #000000;\n      border-radius: 2.6px;\n    }\n    input[type=range]::-ms-thumb {\n      width: 10px;\n      height: 10px;\n      background: #000000;\n      border: 1px solid #000000;\n      border-radius: 100%;\n      cursor: pointer;\n      margin-top: 0px;\n      /*Needed to keep the Edge thumb centred*/\n    }\n    input[type=range]:focus::-ms-fill-lower {\n      background: #000000;\n    }\n    input[type=range]:focus::-ms-fill-upper {\n      background: #0d0d0d;\n    }\n    /*TODO: Use one of the selectors from https://stackoverflow.com/a/20541859/7077589 and figure out\n    how to remove the virtical space around the range input in IE*/\n    @supports (-ms-ime-align:auto) {\n      /* Pre-Chromium Edge only styles, selector taken from hhttps://stackoverflow.com/a/32202953/7077589 */\n      input[type=range] {\n        margin: 0;\n        /*Edge starts the margin from the thumb, not the track as other browsers do*/\n      }\n    }\n\n}\n</style>"]}]}